(this["webpackJsonp@wcpos/web"]=this["webpackJsonp@wcpos/web"]||[]).push([[4],{861:function(e,t,n){"use strict";var r,c,a,o,i,s=n(1),l=n(24),u=n(0),d=n(544),j=n(46),b=n.n(j),O=n(22),f=n(19),h=f.c.View(r||(r=Object(O.a)(["\n\tflex-direction: row;\n\tborder-bottom-width: 1px;\n\tborder-style: solid;\n\tborder-bottom-color: #000000;\n"]))),m=f.c.View(c||(c=Object(O.a)(["\n\tpadding: 5px;\n\talign-items: flex-start;\n"]))),x=f.c.View(a||(a=Object(O.a)(["\n\tflex-direction: row;\n\tborder-bottom-width: 2px;\n\tborder-style: solid;\n\tborder-bottom-color: #000000;\n\tbackground-color: #ffffff;\n"]))),p=f.c.View(o||(o=Object(O.a)(["\n\tpadding: 5px;\n"]))),y=f.c.View(i||(i=Object(O.a)(["\n\tflex-direction: row;\n\talign-items: center;\n"]))),v=n(42),g=n(2),w=u.memo((function(e){var t=e.children,n=e.cellData,r=e.flexGrow,c=void 0===r?1:r,a=e.flexShrink,o=void 0===a?1:a,i=e.flexBasis,s=void 0===i?"auto":i,l=e.width,u=void 0===l?"100%":l,d=e.style;e.rowData,e.dataKey;return t?Object(g.jsx)(m,{style:[{flexGrow:c,flexShrink:o,flexBasis:s,width:u},d],children:"function"===typeof t?t({cellData:n}):t}):Object(g.jsx)(m,{style:[{flexGrow:c,flexShrink:o,flexBasis:s,width:u},d],children:Object(g.jsx)(v.a,{children:String(null!==n&&void 0!==n?n:"")})})}));w.displayName="Table.Body.Row.Cell";var k=w,S=u.memo((function(e){var t=e.rowData,n=e.columns,r=e.style,c=e.children;return Object(g.jsx)(h,{style:r,children:n&&n.map((function(e,n){if(!e.hide){var r=e.key||n,a=t[r],o=e.flexGrow,i=e.flexShrink,l=e.flexBasis,u=e.width,d=function(){return{cellData:a,column:e,dataKey:r,flexGrow:o,flexShrink:i,flexBasis:l,width:u,rowData:t,index:n,key:r}};return"function"===typeof c?c({cellData:a,column:e,getCellProps:d}):Object(g.jsx)(k,Object(s.a)({},d()))}}))})}));S.displayName="Table.Row",S.Cell=k;var _,C,D,P=S,B=n(178),R=f.c.View(_||(_=Object(O.a)(["\n\tpadding: 3px;\n\topacity: 0.6;\n"]))),N=f.c.View(C||(C=Object(O.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-bottom-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n\tmargin-bottom: 2px;\n"])),(function(e){var t=e.active,n=e.theme;return t?n.COLOR_PRIMARY:n.COLOR_DISABLED})),A=f.c.View(D||(D=Object(O.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-top-width: 4px;\n\tborder-top-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n"])),(function(e){var t=e.active,n=e.theme;return t?n.COLOR_PRIMARY:n.COLOR_DISABLED})),E=function(e){var t=e.direction;e.visible;return Object(g.jsxs)(R,{children:[Object(g.jsx)(N,{active:"asc"===t}),Object(g.jsx)(A,{active:"desc"===t})]})},I=u.memo((function(e){var t=e.children,n=e.sort,r=e.sortBy,c=e.dataKey,a=e.defaultSortDirection,o=void 0===a?"asc":a,i=e.sortDirection,s=e.label,l=e.style,u=e.flexGrow,d=void 0===u?1:u,j=e.flexShrink,b=void 0===j?1:j,O=e.flexBasis,f=void 0===O?"auto":O,h=e.width,m=void 0===h?"100%":h,x=e.disableSort,w=void 0!==x&&x,k=e.hideLabel,S=void 0!==k&&k,_=!w&&"function"===typeof n,C=_&&r===c,D=r!==c?o:"desc"===i?"asc":"desc";return Object(g.jsx)(p,{style:[{flexGrow:d,flexShrink:b,flexBasis:f,width:m},l],children:_?Object(g.jsx)(B.a,{onPress:function(e){"function"===typeof n&&n({defaultSortDirection:o,event:e,sortBy:c,sortDirection:D})},children:function(e){var n=e.hovered;return Object(g.jsxs)(y,{children:[Object(g.jsx)(v.a,{children:t||s}),Object(g.jsx)(E,{visible:n||C,direction:C?i:void 0})]})}}):!S&&Object(g.jsx)(v.a,{children:t||s})})}));I.displayName="Table.Header.Row.Cell";var L=I,T=u.memo((function(e){var t=e.columns,n=e.sort,r=e.sortBy,c=e.sortDirection,a=e.children;e.style;return Object(g.jsx)(x,{children:t&&t.map((function(e,t){if(!e.hide){var o=e.key||t,i=e.defaultSortDirection,l=e.disableSort,u=e.label,d=e.flexGrow,j=e.flexShrink,b=e.flexBasis,O=e.width,f=e.hideLabel,h=function(){return{column:e,dataKey:o,defaultSortDirection:i,disableSort:l,flexGrow:d,flexShrink:j,flexBasis:b,label:u,sort:n,sortBy:r,sortDirection:c,width:O,hideLabel:f,key:o}};return"function"===typeof a?a({column:e,getHeaderCellProps:h}):Object(g.jsx)(L,Object(s.a)({},h()))}}))})}));T.displayName="Table.Header.Row",T.Cell=L;var V=T,G=function(e){var t=e.children;return Object(g.jsx)(g.Fragment,{children:t})};G.displayName="Table.Body";var M=Object.assign(G,{Row:P}),H=function(e){var t=e.children;return Object(g.jsx)(g.Fragment,{children:t})};H.displayName="Table.Header";var $=Object.assign(H,{Row:V}),F=function(e){var t=e.message,n=void 0===t?"No results found":t;return Object(g.jsx)(v.a,{children:n})},q=u.memo(F);F.displayName="Table.Row.Empty";var Q=q,U=["children","columns","data","empty","footer","sort","sortBy","sortDirection"],z={minimumViewTime:500,viewAreaCoveragePercentThreshold:0},K=[0],W=u.memo((function(e){var t=e.children,n=e.columns,r=e.data,c=(e.empty,e.footer),a=e.sort,o=e.sortBy,i=e.sortDirection,j=Object(l.a)(e,U),O=u.useCallback((function(e,t){return b()(e,"_id")||t}),[]),f=u.Children.count(t),h=u.useMemo((function(){if(Array.isArray(t)&&f>0){var e=t.find((function(e){return e.type===M}));if(u.isValidElement(e))return function(t){var r=t.item,c=t.index;return e.props.children({item:r,columns:n,index:c})}}return"function"===typeof t?function(e){var r=e.item,c=e.index;return t({item:r,columns:n,index:c})}:function(e){var t=e.item;return Object(g.jsx)(P,{rowData:t,columns:n})}}),[t,f,n]),m=u.useCallback(h,[h]),x=u.useMemo((function(){if(Array.isArray(t)&&f>0){var e=t.find((function(e){return e.type===$}));if(u.isValidElement(e))return u.cloneElement(e.props.children,{columns:n,sort:a,sortBy:o,sortDirection:i})}return Object(g.jsx)(V,{columns:n,sort:a,sortBy:o,sortDirection:i})}),[t,f,n,a,o,i]);return Object(g.jsx)(d.a,Object(s.a)({data:r,renderItem:m,keyExtractor:O,ListHeaderComponent:x,ListFooterComponent:c,ListEmptyComponent:Q,stickyHeaderIndices:K,viewabilityConfig:z},j))}));W.displayName="Table",W.Header=$,W.Body=M;var X=W;t.a=X},862:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return w}));var r=n(12),c=n(0),a=n(185),o=n(904),i=n(858),s=n(484),l=n(243),u=n(115),d=n(867),j=n(268),b=n(876),O=n(896),f=n(877),h=n(50),m=n(878),x=n.n(m),p=n(893),y=n(894),v=n(886),g=n(2),w=c.createContext({currentOrder:void 0,setCurrentOrder:void 0});t.b=function(){var t=Object(u.b)().storeDB,n=Object(o.a)(Object(d.a)("posProducts")),m=Object(o.a)(Object(d.a)("cart")),k=c.useState(),S=Object(r.a)(k,2),_=S[0],C=S[1],D=c.useRef(!1),P=Object(h.g)(n.get("width")),B=Object(f.a)(),R=Object(r.a)(B,2),N=R[0],A=R[1],E=Object(f.a)(),I=Object(r.a)(E,2),L=I[0],T=I[1],V=c.useCallback((function(e,t){t.productColumnWidth=P.value}),[]),G=c.useCallback((function(e,t){L&&N?(D.current=!0,P.value=Object(h.j)(x()((L.width+e.translationX)/N.width,.2,.8))):console.log("@TODO - why null?",L)}),[N,L]),M=c.useCallback((function(e,t){D.current=!1,n.atomicPatch({width:P.value})}),[]),H=Object(h.e)(function(){const t=function(){return{flexBasis:"".concat(100*P.value,"%")}};return t._closure={productColumnWidth:P},t.asString='function _f(){const{productColumnWidth}=jsThis._closure;{return{flexBasis:"".concat(productColumnWidth.value*100,"%")};}}',t.__workletHash=0xe295e26f59b,t.__location="/home/runner/work/client/client/packages/common/src/screens/pos/pos.tsx (71:46)",e.__reanimatedWorkletInit(t),t}()),$=function(e){D.current||A(e)},F=function(e){D.current||T(e)},q=t.collections.orders.find().where("status").eq("pending"),Q=Object(i.a)(q.$.pipe(Object(s.a)((function(e){return(null===Q||void 0===Q?void 0:Q.length)!==e.length}))),[]);return Object(l.a)("POS",{storeDB:t,productsUI:n,cartUI:m,currentOrder:_,orderQuery:q,orders:Q,handleColumnResize:G,handleStartColumnResize:V,handleEndColumnResize:M,productsColumnStyle:H,handleContainerLayout:$,handleProductColumnLayout:F}),Object(g.jsx)(w.Provider,{value:{currentOrder:_,setCurrentOrder:C},children:Object(g.jsxs)(v.b,{onLayout:$,children:[Object(g.jsx)(v.c,{as:h.a.View,onLayout:F,style:H,children:Object(g.jsx)(j.a,{children:Object(g.jsx)(c.Suspense,{fallback:Object(g.jsx)(a.a,{children:"Loading products..."}),children:Object(g.jsx)(y.a,{ui:n,storeDB:t})})})}),Object(g.jsx)(b.a,{onStart:V,onActive:G,onEnd:M,children:Object(g.jsx)(h.a.View,{children:Object(g.jsx)(O.a,{})})}),Object(g.jsx)(v.a,{children:Object(g.jsx)(j.a,{children:Object(g.jsx)(c.Suspense,{fallback:Object(g.jsx)(a.a,{children:"Loading cart..."}),children:Object(g.jsx)(p.a,{ui:m,orders:Q})})})})]})})}}).call(this,n(37))},863:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r,c,a,o,i,s=n(12),l=n(0),u=n(345),d=n(42),j=n(22),b=n(19),O=n(73),f=n(178),h=Object(b.c)(f.a)(r||(r=Object(j.a)(["\n\tdisplay: flex;\n\tflex-direction: row;\n\t","\n"])),(function(e){return e.disabled&&Object(b.b)(c||(c=Object(j.a)(["\n\t\t\topacity: 0.5;\n\t\t"])))})),m=b.c.View(a||(a=Object(j.a)(["\n\tflex: 0 1 auto;\n\talign-items: center;\n\tjustify-content: center;\n\tborder-style: solid;\n\tbackground-color: ",";\n\twidth: ",";\n\theight: ",";\n\tborder-width: ",";\n\tborder-color: ",";\n\tborder-radius: ",";\n"])),(function(e){var t=e.theme;return e.checked?t.CHECKBOX_BACKGROUND_COLOR:"transparent"}),(function(e){return e.theme.CHECKBOX_WIDTH}),(function(e){return e.theme.CHECKBOX_HEIGHT}),(function(e){return e.theme.CHECKBOX_BORDER_WIDTH}),(function(e){return e.theme.CHECKBOX_BORDER_COLOR}),(function(e){return e.theme.CHECKBOX_BORDER_RADIUS})),x=Object(b.c)(O.a)(o||(o=Object(j.a)(["\n\tcolor: #fff;\n"]))),p=b.c.View(i||(i=Object(j.a)(["\n\tflex: 1;\n\tdisplay: flex;\n\tflex-direction: column;\n\tpadding: 0 5px;\n"]))),y=n(2),v=function(e){var t=e.label,n=(e.checked,e.info);return Object(y.jsxs)(p,{children:[Object(y.jsx)(d.a,{children:t}),n&&Object(y.jsx)(d.a,{children:n})]})};function g(e){var t=e.checked,n=(e.hasError,e.disabled);e.focused,e.hovered,e.pressed;return Object(y.jsx)(m,{checked:t,children:t&&Object(y.jsx)(x,{name:"check",size:"small",disabled:n,color:"#FFF"})})}var w=function(e){var t=e.label,n=e.disabled,r=e.helpText,c=e.checked,a=void 0!==c&&c,o=e.onChange,i=Object(u.a)(a,o),d=Object(s.a)(i,2),j=d[0],b=d[1],O=l.useCallback((function(){return null===b||void 0===b?void 0:b(!j)}),[j,b]);return Object(y.jsxs)(h,{disabled:n,onPress:O,children:[Object(y.jsx)(g,{checked:j,disabled:n}),Object(y.jsx)(v,{label:t,checked:j,info:r})]})}},864:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(12),c=n(0),a=n(911),o=n(455),i=n(851),s=n(857),l=n(903),u=n(909),d=n(101),j=n(115),b=function(e,t){var n=Object(j.b)(),b=n.storeDB,O=null===b||void 0===b?void 0:b.collections[e],f=c.useState(t),h=Object(r.a)(f,2),m=h[0],x=h[1],p=Object(d.p)();if(!O)throw Error("Collection not found");var y=Object(a.a)((function(e){return e.pipe(Object(i.a)((function(e){var t=Object(r.a)(e,1)[0];return O.query(t).$})),Object(s.a)(1),Object(l.a)((function(e){return console.error(e),e})))}),[m]);return Object(o.a)(y.pipe(Object(u.a)()),(function(e){0===e.length&&O.audit().catch((function(e){e&&e.response&&401===e.response.status&&p.navigate("Modal",{login:!0}),console.warn(e)}))})),c.useEffect((function(){O.restApiQuery(m)}),[O,m]),{data$:y,query:m,setQuery:x}}},865:function(e,t,n){"use strict";var r=n(1),c=n(12),a=n(0),o=n(910),i=n(343),s=n(73),l=n(863),u=n(85),d=n(42),j=n(2);t.a=function(e){var t=e.ui,n=Object(o.a)().t,b=t.id.split("_")[1],O=t.get("columns"),f=a.useState(!1),h=Object(c.a)(f,2),m=h[0],x=h[1];return Object(j.jsxs)(i.a,{open:m,activator:Object(j.jsx)(s.a,{name:"cog",onPress:function(){return x(!0)}}),onRequestClose:function(){return x(!1)},children:[Object(j.jsx)(d.a,{children:"Columns"}),O.map((function(e,c){return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(l.a,{label:n("".concat(b,".column.label.").concat(e.key)),checked:!e.hide,onChange:function(n){O[c]=Object(r.a)(Object(r.a)({},e),{},{hide:!n}),t.atomicSet("columns",O)}},e.key),e.display?e.display.map((function(c,a){return Object(j.jsx)(l.a,{label:n("".concat(b,".column.label.").concat(c.key)),checked:!c.hide,onChange:function(n){e.display[a]=Object(r.a)(Object(r.a)({},c),{},{hide:!n}),t.atomicSet("columns",O)}},c.key)})):null]})})),Object(j.jsx)(u.a,{title:"Restore Default Settings",onPress:t.reset})]})}},866:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r,c,a,o=n(1),i=n(24),s=n(0),l=n(110),u=n(73),d=n(346),j=n(22),b=n(19),O=b.c.View(r||(r=Object(j.a)(["\n\tflex-direction: row;\n\twidth: 100%;\n\talign-items: center;\n"]))),f=b.c.View(c||(c=Object(j.a)(["\n\tflex: 1;\n"]))),h=b.c.View(a||(a=Object(j.a)(["\n\tflex-direction: row;\n"]))),m=n(2),x=["actions","onSearch","filters"],p=function(e){var t=e.actions,n=e.onSearch,r=e.filters,c=Object(i.a)(e,x),a=s.useMemo((function(){if(r)return r.map((function(e){var t=e.label,n=e.onRemove;return Object(m.jsx)(d.a,{removable:!0,onRemove:n,children:t})}))}),[r]);return Object(m.jsxs)(O,{children:[Object(m.jsx)(f,{children:Object(m.jsx)(l.a,Object(o.a)({hideLabel:!0,clearable:!0,onChange:n,leftAccessory:a},c))}),t&&Object(m.jsx)(h,{children:t.map((function(e){return s.isValidElement(e)?e:Object(m.jsx)(u.a,{name:e.name,onPress:e.action})}))})]})}},867:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(484),c=n(902),a=n(115),o=n(875),i={posProducts:void 0,cart:void 0,products:void 0,orders:void 0,customers:void 0},s=function(e){var t=Object(a.b)().storeDB;if(i[e])return i[e];var n=t.getLocal$("ui_".concat(e)).pipe(Object(r.a)((function(n){return!n&&o[e]?(t.insertLocal("ui_".concat(e),o[e]),!1):(n.reset=function(){t.upsertLocal("ui_".concat(e),o[e])},n)})));return i[e]=new c.a(n),i[e]}},868:function(e,t,n){"use strict";var r=n(1),c=n(0),a=n(858),o=n(910),i=n(262),s=n.n(i),l=n(263),u=n.n(l),d=n(861),j=n(243),b=n(42),O=n(2),f=function(e){var t=e.item,n=e.column;return Object(O.jsx)(b.a,{children:String(t[n.key])})},h=c.memo((function(e){var t=e.item,n=e.columns,c=e.cells,o=e.setQuery,i=Object(a.a)(t.$);return Object(j.a)("Common Table Row",{forceRender:i,item:t,columns:n,cells:c}),Object(O.jsx)(d.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.column,a=e.getCellProps,i=c[n.key]?c[n.key]:f;return Object(O.jsx)(d.a.Body.Row.Cell,Object(r.a)(Object(r.a)({},a()),{},{children:Object(O.jsx)(i,{item:t,column:n,setQuery:o})}))}})}));t.a=c.memo((function(e){var t=e.collection,n=e.columns,i=e.data$,l=e.setQuery,b=e.sortBy,f=e.sortDirection,m=e.cells,x=Object(o.a)().t,p=Object(a.a)(i,[]),y=c.useCallback((function(e){var t=e.sortBy,n=e.sortDirection;l((function(e){return Object(r.a)(Object(r.a)({},e),{},{sortBy:t,sortDirection:n})}))}),[l]),v=c.useMemo((function(){return s()(t.schema.indexes).includes(b)?p:u()(p,[b],[f])}),[b,f,t.schema.indexes,p]),g=c.useCallback((function(e,t){return{length:100,offset:100*t,index:t}}),[]);return Object(j.a)("Common Table",{collection:t,columns:n,data:p,maybeSortedData:v,setQuery:l,_sortBy:b,_sortDirection:f,cells:m,t:x}),Object(O.jsxs)(d.a,{columns:n,data:v,sort:y,sortBy:b,sortDirection:f,getItemLayout:g,children:[Object(O.jsx)(d.a.Header,{children:Object(O.jsx)(d.a.Header.Row,{children:function(e){var n=e.getHeaderCellProps,c=n().column;return Object(O.jsx)(d.a.Header.Row.Cell,Object(r.a)(Object(r.a)({},n()),{},{children:x("".concat(t.name,".column.label.").concat(c.key))}))}})}),Object(O.jsx)(d.a.Body,{children:function(e){var t=e.item;return Object(O.jsx)(h,{item:t,columns:n,cells:m,setQuery:l})}})]})}))},869:function(e,t,n){"use strict";var r=n(1),c=n(0),a=n(346),o=n(344),i=n.n(o),s=n(2);t.a=function(e){var t=e.item,n=e.setQuery,o=t.categories,l=c.useCallback((function(e){n((function(t){return i()(Object(r.a)({},t),"filters.category",e)}))}),[n]),u=c.useMemo((function(){return Array.isArray(o)?o.map((function(e){return{key:e.id,label:e.name,action:function(){return l(e)}}})):[]}),[o,l]);return o?Object(s.jsx)(a.a.Group,{tags:u}):Object(s.jsx)(a.a.Group.Skeleton,{numberOfTags:2})}},870:function(e,t,n){"use strict";var r=n(1),c=n(0),a=n(346),o=n(344),i=n.n(o),s=n(2);t.a=function(e){var t=e.item,n=e.setQuery,o=t.tags,l=c.useCallback((function(e){n((function(t){return i()(Object(r.a)({},t),"filters.tag",e)}))}),[n]),u=c.useMemo((function(){return Array.isArray(o)?o.map((function(e){return{key:e.id,label:e.name,action:function(){return l(e)}}})):[]}),[o,l]);return o?Object(s.jsx)(a.a.Group,{tags:u}):Object(s.jsx)(a.a.Group.Skeleton,{numberOfTags:2})}},871:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));n(0);var r=n(50),c=n(544),a=n(2),o=(function(){var t=function(e,t,n){return Math.min(Math.max(t,e),n)};t._closure={},t.asString="function _f(value,lowerBound,upperBound){return Math.min(Math.max(lowerBound,value),upperBound);}",t.__workletHash=5192855762164,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx (11:14)",e.__reanimatedWorkletInit(t)}(),function(t){var n=t.children,o=t.onStart,i=t.onActive,s=t.onEnd,l=(t.minX,t.minY,t.maxX,t.maxY,Object(r.d)({onStart:function(){const t=function(e,t){o&&o(e,t)};return t._closure={_onStart:o},t.asString="function onStart(event,ctx){const{_onStart}=jsThis._closure;{if(_onStart){_onStart(event,ctx);}}}",t.__workletHash=0xdec80fc8533,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx",e.__reanimatedWorkletInit(t),t}(),onActive:function(){const t=function(e,t){i&&i(e,t)};return t._closure={_onActive:i},t.asString="function onActive(event,ctx){const{_onActive}=jsThis._closure;{if(_onActive){_onActive(event,ctx);}}}",t.__workletHash=0xc1905c1c1d3,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx",e.__reanimatedWorkletInit(t),t}(),onEnd:function(){const t=function(e,t){s&&s(e,t)};return t._closure={_onEnd:s},t.asString="function onEnd(event,ctx){const{_onEnd}=jsThis._closure;{if(_onEnd){_onEnd(event,ctx);}}}",t.__workletHash=5282268739699,t.__location="/home/runner/work/client/client/packages/common/src/components/draggable/draggable.tsx",e.__reanimatedWorkletInit(t),t}()}));return Object(a.jsx)(c.b,{onGestureEvent:l,children:n})})}).call(this,n(37))},875:function(e){e.exports=JSON.parse('{"posProducts":{"sortBy":"name","sortDirection":"asc","width":0.6,"columns":[{"key":"image","disableSort":true,"order":1,"width":"15%","flexShrink":0,"hideLabel":true},{"key":"name","order":2,"display":[{"key":"sku","hide":true,"order":1},{"key":"categories","order":2},{"key":"tags","hide":true,"order":3}]},{"key":"sku","hide":true,"order":3,"width":"20%","flexShrink":0},{"key":"price","order":4,"width":"90px","flexShrink":0,"align":"right"},{"key":"actions","disableSort":true,"order":5,"width":"38px","flexShrink":0,"hideLabel":true}]},"cart":{"sortBy":"id","sortDirection":"asc","columns":[{"key":"quantity","order":0},{"key":"name","order":1},{"key":"sku","hide":true,"order":2},{"key":"price","order":3},{"key":"subtotal","hide":true,"order":4},{"key":"subtotalTax","hide":true,"order":5},{"key":"totalTax","hide":true,"order":6},{"key":"total","order":7},{"key":"actions","order":8}]},"products":{"sortBy":"name","sortDirection":"asc","columns":[{"key":"image","width":"15%","disableSort":true,"order":1,"flexShrink":0,"hideLabel":true},{"key":"id","order":2,"width":"50px","flexShrink":0,"hide":true},{"key":"name","width":"30%","order":3},{"key":"sku","order":4,"width":"80px","flexShrink":0,"hide":true},{"key":"categories","width":"20%","order":5,"disableSort":true},{"key":"tags","width":"20%","order":6,"hide":true,"disableSort":true},{"key":"regularPrice","width":"100px","order":7},{"key":"salePrice","width":"100px","order":8},{"key":"dateCreated","width":"100px","order":9,"hide":true},{"key":"dateModified","width":"100px","order":10,"hide":true},{"key":"actions","disableSort":true,"order":11,"width":"38px","flexShrink":0,"hideLabel":true}]},"orders":{"sortBy":"number","sortDirection":"desc","columns":[{"key":"status","width":"38px","order":1,"hideLabel":true},{"key":"number","width":"38px","order":2,"hideLabel":true},{"key":"customer","width":"20%","order":3},{"key":"billing","width":"20%","order":4},{"key":"shipping","width":"20%","order":5},{"key":"customerNote","width":"38px","order":6},{"key":"dateCreated","width":"100px","order":7},{"key":"dateModified","hide":true,"width":"100px","order":8},{"key":"dateCompleted","hide":true,"width":"100px","order":9},{"key":"total","width":"90px","order":10},{"key":"actions","disableSort":true,"width":"38px","order":11,"hideLabel":true}]},"customers":{"sortBy":"lastName","sortDirection":"asc","columns":[{"key":"avatarUrl","disableSort":true,"width":"15%","order":1,"hideLabel":true},{"key":"firstName","width":"20%","order":2},{"key":"lastName","width":"20%","order":3},{"key":"email","width":"20%","order":4},{"key":"role","width":"20%","hide":true,"order":5},{"key":"username","width":"20%","hide":true,"order":6},{"key":"billing","width":"20%","order":7},{"key":"shipping","width":"20%","order":8},{"key":"actions","disableSort":true,"width":"38px","order":9,"hideLabel":true}]}}')},876:function(e,t,n){"use strict";var r=n(871);n.d(t,"a",(function(){return r.a}))},877:function(e,t,n){"use strict";var r=n(12),c=n(0);t.a=function(){var e=c.useState(null),t=Object(r.a)(e,2),n=t[0],a=t[1];return[n,c.useCallback((function(e){var t=e.nativeEvent;a(t.layout)}),[a])]}},886:function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return u}));var r,c,a,o=n(22),i=n(19),s=i.c.View(r||(r=Object(o.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),l=i.c.View(c||(c=Object(o.a)(["\n\theight: 100%;\n\tflex-grow: 0;\n\tflex-shrink: 0;\n\tflex-basis: 60%;\n"]))),u=i.c.View(a||(a=Object(o.a)(["\n\theight: 100%;\n\tflex: 1;\n"])))},887:function(module,__webpack_exports__,__webpack_require__){"use strict";function getObjectType(e){return null===e||"object"!==typeof e||Array.isArray(e)||"function"!==typeof e[Symbol.iterator]?Object.prototype.toString.call(e).slice(8,-1):"Iterable"}function parse(string){var result=string;if(0===result.indexOf("function"))return eval("(".concat(result,")"));try{result=JSON.parse(string)}catch(e){}return result}__webpack_require__.d(__webpack_exports__,"a",(function(){return getObjectType}))},893:function(e,t,n){"use strict";n.d(t,"a",(function(){return ke}));var r,c,a,o,i,s,l,u,d,j,b=n(1),O=n(12),f=n(0),h=n(858),m=n(911),x=n(484),p=n(851),y=n(88),v=n(179),g=n(42),w=n(243),k=n(910),S=n(861),_=n(4),C=n.n(_),D=n(13),P=n(110),B=n(343),R=n(73),N=n(22),A=n(19),E=n(178),I=n(142),L=A.c.View(r||(r=Object(N.a)([""]))),T=A.c.View(c||(c=Object(N.a)(["\n\tflex-direction: row;\n"]))),V=Object(A.c)(I.a)(a||(a=Object(N.a)(["\n\tflex: 1;\n"]))),G=A.c.View(o||(o=Object(N.a)(["\n\tjustify-content: space-between;\n\tflex-wrap: wrap;\n\tflex-direction: row;\n"]))),M=Object(A.c)(E.a)(i||(i=Object(N.a)(["\n\tflex-grow: 1;\n\tflex-shrink: 0;\n\tflex-basis: 30%;\n\talign-items: center;\n\tmargin: 1px;\n"]))),H=Object(A.c)(I.a)(s||(s=Object(N.a)([""]))),$=n(2),F=["7","8","9","4","5","6","1","2","3","-","0","."],q=function(e){e.display;var t=e.placeholder,n=void 0===t?"0":t,r=f.useState(n),c=Object(O.a)(r,2),a=c[0],o=c[1];return Object($.jsxs)(L,{children:[Object($.jsxs)(T,{children:[Object($.jsx)(V,{children:a}),Object($.jsx)(R.a,{name:"backspace",onPress:function(){o(a)}})]}),Object($.jsx)(G,{children:F.map((function(e){return Object($.jsx)(M,{onPress:function(){return function(e){o(a+e)}(e)},children:Object($.jsx)(H,{children:e})},"button-".concat(e))}))})]})},Q=function(e){var t=e.lineItem,n=f.useState(!1),r=Object(O.a)(n,2),c=r[0],a=r[1],o=Object(h.a)(t.quantity$,t.quantity),i=function(){var e=Object(D.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.atomicPatch({quantity:Number(n)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object($.jsx)(B.a,{open:c,onRequestClose:function(){return a(!1)},activator:Object($.jsx)(P.a,{label:"Quantity",hideLabel:!0,autosize:!0,value:String(o),onChange:i,onFocus:function(){return a(!0)}}),children:Object($.jsx)(q,{placeholder:String(o)})})},U=function(e){var t=e.lineItem,n=Object(h.a)(t.price$,t.price),r=function(){var e=Object(D.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.atomicPatch({price:Number(n)});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object($.jsx)(P.a,{label:"Price",hideLabel:!0,autosize:!0,value:String(n),onChange:r})},z=function(e){var t=e.item,n=e.type,r=void 0===n?"total":n,c=Object(h.a)(t["".concat(r,"$")],t[r]);return Object(w.a)("CartLineItemTotal",{item:t,total:c}),Object($.jsx)(g.a,{children:c})},K=function(e){var t=e.item,n=e.type,r=void 0===n?"totalTax":n,c=Object(h.a)(t["".concat(r,"$")],t[r]);return Object($.jsx)(g.a,{children:c})},W=n(21),X=n(439),Y=n(862),J=n(89),Z=n(863),ee=A.c.View(l||(l=Object(N.a)([""]))),te=A.c.View(u||(u=Object(N.a)(["\n\tflex-direction: row;\n"]))),ne=A.c.View(d||(d=Object(N.a)(["\n\tflex: 1;\n\tpadding: 5px;\n"]))),re=function(e){var t=e.data,n=function(){console.log("hi")};return Object($.jsx)(ee,{children:null===t||void 0===t?void 0:t.map((function(e){return Object($.jsxs)(te,{children:[Object($.jsx)(ne,{children:Object($.jsx)(P.a,{label:"Key",value:e.key})}),Object($.jsx)(ne,{children:Object($.jsx)(P.a,{label:"Value",value:e.value})}),Object($.jsx)(R.a,{name:"add",onPress:n})]},e.key)}))})},ce=function(e){var t=e.item,n=e.onClose;Object(h.a)(t.$);var r=function(){var e=Object(D.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.atomicPatch({taxClass:n});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(e){return t.collection.schema.topLevelFields.includes(e)};return Object($.jsx)(J.a,{title:t.name||t.methodTitle,open:!0,onClose:n,primaryAction:{label:"Save",action:n},children:Object($.jsxs)(J.a.Section,{children:[c("name")&&Object($.jsx)(P.a,{label:"Name",value:t.name}),c("taxStatus")&&Object($.jsx)(Z.a,{label:"Taxable",checked:"taxable"===t.taxStatus,onChange:function(e){return t.atomicPatch({taxStatus:e?"taxable":"none"})}}),c("taxClass")&&Object($.jsx)(P.a,{label:"Tax Class",value:t.taxClass,onChange:r}),Object($.jsx)(re,{data:t.metaData})]})})},ae=function(e){var t=e.item,n=f.useState(!1),r=Object(O.a)(n,2),c=r[0],a=r[1],o=f.useContext(Y.a).currentOrder,i=function(e){var t=f.useContext(X.a);return f.useCallback((function(){return t.show(e)}),[t,e])}({message:"Item removed",dismissable:!0,action:{label:"Undo",action:function(){console.log("Undo remove",t)}}});return Object($.jsxs)(W.a,{style:{flexDirection:"row"},children:[Object($.jsx)(R.a,{name:"more-vert",size:"large",onPress:function(){return a(!0)}}),Object($.jsx)(R.a,{name:"remove",size:"large",onPress:function(){null===o||void 0===o||o.removeCartLine(t),i()}}),c&&Object($.jsx)(ce,{item:t,onClose:function(){return a(!1)}})]})},oe=function(e){var t=e.item,n=e.columns;return Object(w.a)("CartLineItem",{item:t,columns:n}),Object($.jsx)(S.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.getCellProps,r=n(),c=(r.cellData,r.column);return Object($.jsx)(S.a.Body.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:function(){switch(c.key){case"quantity":return Object($.jsx)(Q,{lineItem:t});case"price":return Object($.jsx)(U,{lineItem:t});case"subtotalTax":return Object($.jsx)(K,{item:t,type:"subtotalTax"});case"subtotal":return Object($.jsx)(z,{item:t,type:"subtotal"});case"totalTax":return Object($.jsx)(K,{item:t});case"total":return Object($.jsx)(z,{item:t});case"actions":return Object($.jsx)(ae,{item:t});default:return null}}()}))}})},ie=function(e){var t=e.item,n=Object(h.a)(t.total$,t.total),r=function(){var e=Object(D.a)(C.a.mark((function e(n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.atomicPatch({total:n});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object($.jsx)(P.a,{label:"Price",hideLabel:!0,autosize:!0,value:n,onChange:r})},se=function(e){var t=e.fee,n=e.columns;return Object($.jsx)(S.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.getCellProps,r=n(),c=(r.cellData,r.column);return Object($.jsx)(S.a.Body.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:function(){switch(c.key){case"quantity":return Object($.jsx)($.Fragment,{});case"price":return Object($.jsx)(ie,{item:t});case"totalTax":return Object($.jsx)(K,{item:t});case"actions":return Object($.jsx)(ae,{item:t});default:return null}}()}))}})},le=function(e){var t=e.shipping,n=e.columns;return Object($.jsx)(S.a.Body.Row,{rowData:t,columns:n,children:function(e){var n=e.getCellProps,r=n(),c=(r.cellData,r.column);return Object($.jsx)(S.a.Body.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:function(){switch(c.key){case"quantity":return Object($.jsx)($.Fragment,{});case"price":return Object($.jsx)(ie,{item:t});case"name":return Object($.jsx)(g.a,{children:t.methodTitle});case"totalTax":return Object($.jsx)(K,{item:t});case"actions":return Object($.jsx)(ae,{item:t});default:return null}}()}))}})},ue=n(85),de=function(e){var t=e.columns,n=e.ui,r=Object(k.a)(),c=Object(O.a)(r,1)[0],a=f.useState(!1),o=Object(O.a)(a,2),i=o[0],s=o[1];return Object($.jsxs)(B.a,{hideBackdrop:!0,open:i,onRequestClose:function(){return s(!1)},activator:Object($.jsx)(R.a,{name:"cog",onPress:function(){return s(!0)}}),children:[Object($.jsx)(g.a,{children:"Columns"}),t.map((function(e,r){return Object($.jsx)(Z.a,{label:c("cart.column.label.".concat(e.key)),checked:!e.hide,onChange:function(c){t[r]=Object(b.a)(Object(b.a)({},e),{},{hide:!c}),n.atomicSet("columns",t)}},e.key)})),Object($.jsx)(ue.a,{title:"Restore Default Settings",onPress:function(){n.reset()}})]})},je=function(e){var t=e.columns,n=e.items,r=e.query,c=e.onSort,a=e.ui,o=Object(k.a)().t;return Object(w.a)("CartTable",{columns:t,items:n,query:r,onSort:c,ui:a}),Object($.jsxs)(S.a,{columns:t,data:n,sort:c,sortBy:r.sortBy,sortDirection:r.sortDirection,children:[Object($.jsx)(S.a.Header,{children:Object($.jsx)(S.a.Header.Row,{columns:t,children:function(e){var n=e.getHeaderCellProps,r=n().column;return Object($.jsx)(S.a.Header.Row.Cell,Object(b.a)(Object(b.a)({},n()),{},{children:"actions"===r.key?Object($.jsx)(de,{columns:t,ui:a}):o("cart.column.label.".concat(r.key))}))}})}),Object($.jsx)(S.a.Body,{children:function(e){var n=e.item;switch(n.collection.name){case"line_items":return Object($.jsx)(oe,{item:n,columns:t});case"fee_lines":return Object($.jsx)(se,{fee:n,columns:t});case"shipping_lines":return Object($.jsx)(le,{shipping:n,columns:t});default:return null}}})]})},be=n(263),Oe=n.n(be),fe=n(864),he=n(345),me=A.c.ScrollView(j||(j=Object(N.a)(["\n\tmax-height: 200px;\n"]))),xe=function(e){var t=e.label,n=e.choices,r=e.selected,c=void 0===r?null:r,a=e.onChange,o=e.placeholder,i=e.searchValue,s=e.onSearch,l=e.hideLabel,u=f.useState(!1),d=Object(O.a)(u,2),j=d[0],b=d[1],h=f.useCallback((function(){return b(!0)}),[]),m=Object(he.b)(c,a),x=Object(O.a)(m,2),p=(x[0],x[1]),y=f.useMemo((function(){return n.map((function(e){return Object($.jsx)(B.a.Item,{label:e.label,disabled:e.disabled,onSelect:function(){return p(e.value)}},e.key)}))}),[n,p]);return Object($.jsx)(B.a,{open:j,activator:Object($.jsx)(P.a,{label:t,hideLabel:l,onFocus:h,placeholder:o,onChange:s,value:i}),onRequestClose:function(){b(!1)},hideBackdrop:!0,matchWidth:!0,children:Object($.jsx)(me,{children:y})})},pe=n(115),ye=function(e){var t=e.order,n=f.useState(),r=Object(O.a)(n,2),c=r[0],a=r[1],o=(Object(pe.b)().storeDB,Object(k.a)().t),i=Object(fe.a)("customers",{search:"",sortBy:"lastName",sortDirection:"asc"}),s=i.data$,l=i.query,u=i.setQuery,d=f.useCallback((function(e){u((function(t){return Object(b.a)(Object(b.a)({},t),{},{search:e})}))}),[u]),j=f.useCallback((function(e){t&&t.addCustomer(e),a(e)}),[t]),m=Object(h.a)(s,[]),x=f.useMemo((function(){return Oe()(m,"lastName").map((function(e){return{label:"".concat(e.firstName," ").concat(e.lastName),value:e,key:e._id}}))}),[m]);return Object(w.a)("Customer Select",{customers:m,handleSelectCustomer:j,onSearch:d,order:t,query:l,setQuery:u,data$:s}),Object($.jsx)(xe,{label:"Search customers",hideLabel:!0,choices:x,placeholder:c?"".concat(c.firstName," ").concat(c.lastName):o("customers.search.placeholder"),onSearch:d,searchValue:l.search,onChange:j})},ve=function(e){var t=e.order,n=Object(h.a)(t.total$,t.total),r=Object(h.a)(t.totalTax$,t.totalTax);return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(W.a,{style:{flexDirection:"row"},children:[Object($.jsx)(W.a,{style:{flex:1},children:Object($.jsx)(g.a,{children:"Total Tax:"})}),Object($.jsx)(W.a,{children:Object($.jsx)(g.a,{children:r})})]}),Object($.jsxs)(W.a,{style:{flexDirection:"row"},children:[Object($.jsx)(W.a,{style:{flex:1},children:Object($.jsx)(g.a,{children:"Order Total:"})}),Object($.jsx)(W.a,{children:Object($.jsx)(g.a,{children:n})})]})]})},ge=n(452),we=function(e){var t=e.order,n=f.useContext(Y.a).setCurrentOrder,r=f.useState(!1),c=Object(O.a)(r,2),a=c[0],o=c[1],i=Object(ge.b)();return Object($.jsxs)($.Fragment,{children:[Object($.jsxs)(ue.a.Group,{children:[Object($.jsx)(ue.a,{title:"Add Fee",onPress:function(){t.addFeeLine({name:"Fee",total:"10"})}}),Object($.jsx)(ue.a,{title:"Add Shipping",onPress:function(){t.addShippingLine({methodTitle:"Shipping",methodId:"test",total:"5"})}}),Object($.jsx)(ue.a,{title:"Add Note",onPress:function(){t.atomicPatch({customerNote:"This is a note!"})}}),Object($.jsx)(ue.a,{title:"Options",onPress:function(){o(!0)}}),Object($.jsx)(ue.a,{title:"Save",onPress:Object(D.a)(C.a.mark((function e(){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=t.syncRestApi({push:{}})).error$.subscribe((function(e){401===e.code&&i()})),n.run(!1);case 3:case"end":return e.stop()}}),e)})))}),Object($.jsx)(ue.a,{title:"Void",type:"critical",onPress:Object(D.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.remove(),n(void 0);case 2:case"end":return e.stop()}}),e)})))})]}),a&&Object($.jsx)(J.a,{title:"Order Data",open:!0,onClose:function(){return o(!1)},primaryAction:{label:"Save",action:function(){return o(!1)}},children:Object($.jsxs)(J.a.Section,{children:[Object($.jsx)(P.a,{label:"Order Number",value:t.number}),Object($.jsx)(Z.a,{label:"Price Includes Tax",checked:t.pricesIncludeTax,onChange:function(e){return t.atomicPatch({pricesIncludeTax:e})}}),Object($.jsx)(re,{data:t.metaData}),Object($.jsx)(P.a,{label:"Currency Symbol",value:t.currencySymbol})]})})]})},ke=function(e){var t=e.ui,n=e.orders,r=void 0===n?[]:n;Object(w.a)("Cart",{ui:t,orders:r});var c=f.useContext(Y.a),a=c.currentOrder,o=c.setCurrentOrder,i=Object(h.a)((function(){return t.get$("columns")}),t.get("columns")),s=Object(O.a)(i,1)[0],l=f.useState({sortBy:"id",sortDirection:"asc"}),u=Object(O.a)(l,2),d=u[0],j=u[1],k=f.useCallback((function(e){var t=e.sortBy,n=e.sortDirection;j(Object(b.a)(Object(b.a)({},d),{},{sortBy:t,sortDirection:n}))}),[d]),S=Object(m.a)((function(e){return e.pipe(Object(x.a)((function(e){var t=Object(O.a)(e,2),n=t[0];t[1];return Object(y.c)(n)})),Object(p.a)((function(e){var t=Object(O.a)(e,2),n=t[0];t[1];return n.cart$})))}),[a,d]),_=Object(h.a)(S,[]);return a?Object($.jsxs)(v.a.Group,{children:[Object($.jsx)(v.a,{children:Object($.jsx)(ye,{order:a})}),Object($.jsx)(v.a,{grow:!0,children:Object($.jsx)(je,{items:_,columns:s,query:d,onSort:k,ui:t})}),Object($.jsx)(v.a,{children:Object($.jsx)(ve,{order:a})}),Object($.jsx)(v.a,{children:Object($.jsx)(we,{order:a})}),Object($.jsxs)(v.a,{children:[r.map((function(e){return Object($.jsx)(g.a,{onPress:function(){o(e)},children:"".concat(e.id,": ").concat(e.total)},e._id)})),Object($.jsx)(g.a,{onPress:function(){o(void 0)},children:"New"})]})]}):Object($.jsxs)(v.a.Group,{children:[Object($.jsx)(v.a,{children:Object($.jsx)(ye,{})}),Object($.jsxs)(v.a,{children:[r.map((function(e){return Object($.jsx)(g.a,{onPress:function(){return o(e)},children:"".concat(e.id,": ").concat(e.total)},e._id)})),Object($.jsx)(g.a,{onPress:function(){return o(void 0)},children:"New"})]})]})}},894:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r=n(1),c=n(12),a=n(0),o=n(858),i=n(46),s=n.n(i),l=n(344),u=n.n(l),d=n(864),j=n(179),b=n(866),O=n(42),f=n(868),h=n(865),m=n(4),x=n.n(m),p=n(13),y=n(73),v=n(85),g=n(343),w=n(115),k=n(21),S=n(2),_=function(e){var t=e.product,n=Object(w.b)(),r=(n.user,n.storeDB,a.useState([])),o=Object(c.a)(r,2),i=o[0],s=(o[1],function(){var e=Object(p.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.collections().orders.findOne().exec();case 2:e.sent.addOrUpdateLineItem(n,t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=function(){var e=Object(p.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return 0===i.length?Object(S.jsx)(v.a,{title:"Fetch variations",onPress:function(){l("products/".concat(t.id,"/variations"))}}):Object(S.jsx)(S.Fragment,{children:i.map((function(e){return Object(S.jsxs)(k.a,{children:[Object(S.jsxs)(O.a,{children:[e.id," -",e.attributes.map((function(e){return Object(S.jsxs)(O.a,{children:[e.name," -",e.option,","]},e.id)})),"- ",e.price]}),Object(S.jsx)(v.a,{title:"Add to Cart",onPress:function(){return s(e)}})]},e.id)}))})},C=n(862),D=function(e){var t=e.item,n=a.useContext(C.a),r=n.currentOrder,o=n.setCurrentOrder,i=Object(w.b)().storeDB,s=a.useState(!1),l=Object(c.a)(s,2),u=l[0],d=l[1],j=function(){var e=Object(p.a)(x.a.mark((function e(){var n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=2;break}return e.abrupt("return",r.addOrUpdateLineItem(t));case 2:return e.next=4,null===i||void 0===i?void 0:i.collections.orders.createNewOrderWithProduct(t);case 4:return n=e.sent,o(n),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return t.isSynced()?t.isVariable()?Object(S.jsx)(g.a,{open:u,onRequestClose:function(){return d(!1)},activator:Object(S.jsx)(v.a,{title:"->",onPress:function(){return d(!0)}}),children:Object(S.jsx)(_,{product:t})}):Object(S.jsx)(y.a,{name:"addCircle",size:"x-large",backgroundStyle:"none",onPress:function(){j()}}):Object(S.jsx)(y.a.Skeleton,{size:"x-large"})},P=n(869),B=n(347),R=function(e){var t=e.item.thumbnail;return Object(S.jsx)(B.a,{src:t})},N=n(143),A=n.n(N),E=n(870),I=function(e){var t=e.item,n=e.column,r=e.setQuery,c=n.display,o=a.useCallback((function(e){var t=A()(c,{key:e});return!(t&&t.hide)}),[c]);return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(O.a,{children:t.name}),o("sku")&&Object(S.jsx)(O.a,{size:"small",children:t.sku}),o("categories")&&Object(S.jsx)(P.a,{item:t,setQuery:r}),o("tags")&&Object(S.jsx)(E.a,{item:t,setQuery:r}),"variable"===t.type&&Object(S.jsx)(k.a,{children:t.attributes.filter((function(e){return e.variation})).map((function(e){return Object(S.jsxs)(O.a,{size:"small",children:[Object(S.jsxs)(O.a,{size:"small",type:"secondary",children:[e.name,":"]}),e.options.join(", ")]},e.id)}))})]})},L=function(e){var t=e.item;return t.isSynced()?Object(S.jsx)(O.a,{children:t.price}):Object(S.jsx)(O.a.Skeleton,{length:"short"})},T=function(e){var t=e.item;return Object(S.jsx)(O.a,{children:t.regular_price})},V=function(e){var t=e.item;return t.isSynced()?Object(S.jsx)(O.a,{children:t.sku}):Object(S.jsx)(O.a.Skeleton,{length:"short"})},G={actions:D,categories:P.a,image:R,name:I,price:L,regularPrice:T,sku:V,tag:E.a},M=function(e){var t=e.ui,n=e.storeDB,i=Object(o.a)((function(){return t.get$("columns")}),t.get("columns")),l=Object(c.a)(i,1)[0],m=Object(o.a)(null===n||void 0===n?void 0:n.collections.products.totalRecords$),x=a.useState(!1),p=Object(c.a)(x,2),y=(p[0],p[1],a.useState(0)),v=Object(c.a)(y,2),g=v[0],w=(v[1],Object(d.a)("products",{search:"",sortBy:"name",sortDirection:"asc",filters:{category:null,tag:null}})),k=w.data$,_=w.query,C=w.setQuery,D=a.useCallback((function(e){C((function(t){return Object(r.a)(Object(r.a)({},t),{},{search:e})}))}),[C]),P=a.useMemo((function(){var e=[];return s()(_,"filters.category")&&e.push({label:s()(_,"filters.category.name"),onRemove:function(){C((function(e){return u()(Object(r.a)({},e),"filters.category",null)}))}}),s()(_,"filters.tag")&&e.push({label:s()(_,"filters.tag.name"),onRemove:function(){C((function(e){return u()(Object(r.a)({},e),"filters.tag",null)}))}}),e}),[_,C]);return Object(S.jsxs)(j.a.Group,{children:[Object(S.jsx)(j.a,{children:Object(S.jsx)(b.a,{label:"Search Products",placeholder:"Search Products",value:_.search,onSearch:D,actions:[Object(S.jsx)(h.a,{ui:t})],filters:P})}),Object(S.jsx)(j.a,{grow:!0,children:Object(S.jsx)(f.a,{collection:n.collections.products,columns:l,data$:k,setQuery:C,sortBy:_.sortBy,sortDirection:_.sortDirection,cells:G})}),Object(S.jsx)(j.a,{style:{alignItems:"flex-end"},children:Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(O.a,{children:["Showing ",g," of ",m]})})})]})}},896:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));n(0);var r,c,a=n(331),o=n(22),i=n(19),s=n(90),l=i.c.View(r||(r=Object(o.a)(["\n\theight: 100%;\n\talign-items: center;\n\tjustify-content: center;\n\tbackground-color: ",";\n\twidth: 10px;\n\n\t","}\n"])),(function(e){return e.hovered?"#f5f5f5":"transparent"}),"ios"!==s.a.OS&&"android"!==s.a.OS&&Object(i.b)(c||(c=Object(o.a)(["\n\t\t\tcursor: col-resize;\n\t\t"])))),u=n(73),d=n(2),j=function(e){var t=e.children,n=e.style;return Object(d.jsx)(a.a,{style:[{flexDirection:"row",height:"100%"},n],children:function(e){var n=e.hovered;return Object(d.jsx)(l,{hovered:n,children:t||Object(d.jsx)(u.a,{name:"more-vert"})})}})}},907:function(e,t,n){"use strict";n.r(t);var r,c,a,o,i,s,l,u,d=n(0),j=n(101),b=n(905),O=n(862),f=n(1),h=n(12),m=n(904),x=n(858),p=n(46),y=n.n(p),v=n(344),g=n.n(v),w=n(864),k=n(179),S=n(42),_=n(115),C=n(867),D=n(866),P=n(868),B=n(865),R=n(347),N=n(2),A=function(e){var t=e.item;return Object(N.jsx)(R.a,{src:t.thumbnail,style:{width:100,height:100}})},E=n(4),I=n.n(E),L=n(13),T=n(110),V=function(e){var t=e.item,n=function(){var e=Object(L.a)(I.a.mark((function e(n){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.atomicPatch({name:n});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(T.a,{label:"Name",value:t.name,onChange:n,hideLabel:!0})},G=n(869),M=n(870),H=n(21),$={default:"{name}\n{company}\n{address_1}\n{address_2}\n{city}\n{state}\n{postcode}\n{country}",AU:"{name}\n{company}\n{address_1}\n{address_2}\n{city} {state} {postcode}\n{country}",AT:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",BE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",CA:"{company}\n{name}\n{address_1}\n{address_2}\n{city} {state_code}&nbsp;&nbsp;{postcode}\n{country}",CH:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",CL:"{company}\n{name}\n{address_1}\n{address_2}\n{state}\n{postcode} {city}\n{country}",CN:"{country} {postcode}\n{state}, {city}, {address_2}, {address_1}\n{company}\n{name}",CZ:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",DE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",EE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",FI:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",DK:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",FR:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city_upper}\n{country}",HK:"{company}\n{first_name} {last_name_upper}\n{address_1}\n{address_2}\n{city_upper}\n{state_upper}\n{country}",HU:"{name}\n{company}\n{city}\n{address_1}\n{address_2}\n{postcode}\n{country}",IN:"{company}\n{name}\n{address_1}\n{address_2}\n{city} {postcode}\n{state}, {country}",IS:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",IT:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode}\n{city}\n{state_upper}\n{country}",JP:"{postcode}\n{state} {city} {address_1}\n{address_2}\n{company}\n{last_name} {first_name}\n{country}",TW:"{company}\n{last_name} {first_name}\n{address_1}\n{address_2}\n{state}, {city} {postcode}\n{country}",LI:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",NL:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",NZ:"{name}\n{company}\n{address_1}\n{address_2}\n{city} {postcode}\n{country}",NO:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",PL:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",PT:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",SK:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",RS:"{name}\n{company}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",SI:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",ES:"{name}\n{company}\n{address_1}\n{address_2}\n{postcode} {city}\n{state}\n{country}",SE:"{company}\n{name}\n{address_1}\n{address_2}\n{postcode} {city}\n{country}",TR:"{name}\n{company}\n{address_1}\n{address_2}\n{postcode} {city} {state}\n{country}",UG:"{name}\n{company}\n{address_1}\n{address_2}\n{city}\n{state}, {country}",US:"{name}\n{company}\n{address_1}\n{address_2}\n{city}, {state_code} {postcode}\n{country}",VN:"{name}\n{company}\n{address_1}\n{city}\n{country}"},F=n(908),q={Name:function(e){var t=e.firstName,n=e.lastName;return Object(N.jsxs)(S.a,{children:[t," ",n]})},Number:function(e){var t=e.children,n=e.prefix,r=e.suffix;return Object(N.jsxs)(S.a,{children:[n," ",t," ",r]})},List:function(e){var t=e.array;return Object(N.jsx)(N.Fragment,{children:null===t||void 0===t?void 0:t.map((function(e,t){return"string"===typeof e?Object(N.jsxs)(S.a,{children:[e,", "]}):e}))})},Address:function(e){var t,n,r=e.address,c=e.showName,a=Object(f.a)({},r),o=a.country&&$.hasOwnProperty(a.country)?$[a.country]:$.default;Object.assign(a,{name:c&&"".concat(a.first_name," ").concat(a.last_name),state_code:a.state,state_upper:null===(t=a.state)||void 0===t?void 0:t.toUpperCase(),city_upper:null===(n=a.city)||void 0===n?void 0:n.toUpperCase()});var i=o.match(/\{[\w]+\}/g);return i&&i.forEach((function(e){var t=new RegExp(e,"g"),n=e.split(/{|}/g)[1];o=o.replace(t,a[n]||"")})),Object(N.jsx)(H.a,{children:o.split("\n").map((function(e,t){if(e.trim())return Object(N.jsx)(S.a,{children:e},t)}))})},Date:d.memo((function(e){var t=e.value;return Object(N.jsx)(S.a,{children:Object(F.a)(new Date(t||""),"dd/MM/yyyy")})})),Currency:d.memo((function(e){var t=e.children,n=e.symbol;return Object(N.jsxs)(S.a,{children:[n," ",t]})}))},Q=function(e){var t=e.item,n=e.column;return Object(N.jsx)(q.Currency,{symbol:"$",children:t[n.key]})},U=n(343),z=n(425),K=n.n(z),W=n(19),X=n(22),Y=n(178),J=n(142),Z=W.c.View(r||(r=Object(X.a)([""]))),ee=Object(W.c)(Y.a)(c||(c=Object(X.a)(["\n\tpadding: 5px 10px;\n"]))),te=Object(W.c)(J.a)(a||(a=Object(X.a)(["\n\t","\n"])),(function(e){var t=e.hovered,n=e.theme,r=e.type;return t&&"critical"===r|"warning"===r&&"\n    color: ".concat(n.TEXT_COLOR_INVERSE,";\n  ")})),ne=function(e){var t=e.children,n=e.label,r=void 0===n?"":n,c=e.onPress,a=e.action,o=e.type,i=e.style,s=Object(W.d)(),l=d.useCallback((function(){"function"===typeof a&&a(),"function"===typeof c&&c(r)}),[a,r,c]),u=d.useCallback((function(e){var t=e.hovered,n=s.MENU_ITEM_HOVER_BACKGROUND_COLOR;if(o){var r="color_".concat(o).toUpperCase();n=s[r]}return[{backgroundColor:t?n:"transparent"},i]}),[i,s,o]);return Object(N.jsx)(ee,{onPress:l,style:u,children:function(e){var n=e.hovered;return Object(N.jsx)(te,{type:o,hovered:n,children:t||r})}})},re=function(e){var t=e.items,n=e.onSelect,r=void 0===n?function(){}:n;return Object(N.jsx)(Z,{children:t.map((function(e,t){var n="string"===typeof e?{label:e}:e;return Object(N.jsx)(ne,Object(f.a)(Object(f.a)({},n),{},{onPress:function(){r(n)}}),K()("".concat(n.label,"_").concat(t)))}))})};re.Item=ne;var ce,ae,oe,ie,se,le,ue,de,je,be,Oe,fe,he,me=W.c.View(o||(o=Object(X.a)(["\n\twidth: 8px;\n\theight: 8px;\n"]))),xe=W.c.View(i||(i=Object(X.a)(["\n\tborder-top-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-right-width: 4px;\n\tborder-right-color: ",";\n\tborder-top-color: transparent;\n\tborder-bottom-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),pe=W.c.View(s||(s=Object(X.a)(["\n\tborder-top-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-left-width: 4px;\n\tborder-left-color: ",";\n\tborder-top-color: transparent;\n\tborder-bottom-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),ye=W.c.View(l||(l=Object(X.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-bottom-width: 4px;\n\tborder-bottom-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),ve=W.c.View(u||(u=Object(X.a)(["\n\tborder-left-width: 4px;\n\tborder-right-width: 4px;\n\tborder-top-width: 4px;\n\tborder-top-color: ",";\n\tborder-left-color: transparent;\n\tborder-right-color: transparent;\n"])),(function(e){return e.theme.COLOR_PRIMARY})),ge=function(e){var t=e.direction,n=void 0===t?"down":t;e.size;return Object(N.jsx)(me,{children:function(){switch(n){case"left":return Object(N.jsx)(xe,{});case"right":return Object(N.jsx)(pe,{});case"up":return Object(N.jsx)(ye,{});default:return Object(N.jsx)(ve,{})}}()})},we=function(e){var t=e.items,n=e.onSelect,r=e.activator,c=d.useState(!1),a=Object(h.a)(c,2),o=a[0],i=a[1],s=d.useCallback((function(){return i(!0)}),[]),l=d.useCallback((function(){return i(!1)}),[]),u=d.useMemo((function(){return"string"===typeof r?Object(N.jsxs)(S.a,{onPress:s,style:{alignItems:"center"},children:[r,Object(N.jsx)(ge,{direction:o?"up":"down"})]}):d.isValidElement(r)&&"Icon"===y()(r,"type.name")?d.cloneElement(r,{onPress:s}):Object(N.jsxs)(Y.a,{onPress:s,style:{alignItems:"center"},children:[r,Object(N.jsx)(ge,{direction:o?"up":"down"})]})}),[r,o,s]);return Object(N.jsx)(U.a,{activator:u,onRequestClose:l,open:o,hideBackdrop:!0,placement:"bottom-end",popoverStyle:{paddingLeft:0,paddingRight:0},children:Object(N.jsx)(re,{items:t,onSelect:n})})},ke=n(73),Se=n(89),_e=W.c.View(ce||(ce=Object(X.a)([""]))),Ce=W.c.View(ae||(ae=Object(X.a)(["\n\tflex-direction: row;\n"]))),De=Object(W.c)(Y.a)(oe||(oe=Object(X.a)(["\n\talign-items: center;\n\tjustify-content: center;\n\tpadding: 5px;\n"]))),Pe=Object(W.c)(J.a)(ie||(ie=Object(X.a)(["\n\tcolor: ",";\n"])),(function(e){var t=e.selected,n=e.theme;return t?n.TEXT_COLOR:n.TEXT_COLOR_SECONDARY})),Be=function(e){var t=e.label,n=e.selected,r=e.onSelect;return Object(N.jsx)(De,{selected:n,onPress:r,children:Object(N.jsx)(Pe,{selected:n,children:t})})},Re=function(e){var t=e.tabs,n=e.selected,r=e.onSelect,c=e.children,a=Object(d.useMemo)((function(){return t.map((function(e,t){return Object(N.jsx)(Be,{label:e,selected:n===t,onSelect:function(){return r(t)}},e)}))}),[t,n,r]);return Object(N.jsxs)(_e,{children:[Object(N.jsx)(Ce,{children:a}),c]})},Ne=W.c.TextInput(se||(se=Object(X.a)(["\n\tmax-height: 300px;\n"]))),Ae=W.c.View(le||(le=Object(X.a)(["\n\tposition: relative;\n\twidth: 100%;\n"]))),Ee=W.c.View(ue||(ue=Object(X.a)(["\n\tposition: absolute;\n\ttop: 0;\n\tright: 0;\n"]))),Ie=function(e){var t=e.data,n=JSON.stringify(t,null,"  ");return Object(N.jsx)(Ne,{multiline:!0,numberOfLines:n.split("\n").length,editable:!1,value:n})},Le=W.c.View(de||(de=Object(X.a)(["\n\tpadding-left: 20px;\n"]))),Te=function(e){var t=e.name,n=e.value;e.keyPath,e.deep;return Object(N.jsxs)(Le,{style:{flexDirection:"row"},children:[Object(N.jsxs)(S.a,{type:"info",children:[t," : "]}),Object(N.jsx)(S.a,{children:String(n)})]})},Ve=n(25),Ge=function(e){var t=e.data,n=e.name,r=e.isCollapsed,c=e.onExpand,a=e.keyPath,o=void 0===a?[]:a,i=e.deep,s=void 0===i?0:i,l=-1===s?[]:[].concat(Object(Ve.a)(o),[n]),u=s+1,j=d.useState(r(l,s,t)),b=Object(h.a)(j,2),O=b[0],f=b[1];return Object(N.jsxs)(Le,{children:[Object(N.jsxs)(H.a,{style:{flexDirection:"row"},children:[Object(N.jsxs)(Y.a,{onPress:function(){O&&c(l,s,t),f(!O)},style:{flexDirection:"row",alignItems:"center"},children:[Object(N.jsx)(ge,{direction:O?"right":"down"}),Object(N.jsxs)(S.a,{type:"info",children:[n," :"]})]}),O?function(){var e=Object.getOwnPropertyNames(t).length,n=0===e||e>1?"keys":"key";return Object(N.jsxs)(S.a,{type:"secondary",children:[" {...}"," ",e," ",n]})}():Object(N.jsx)(S.a,{children:" {"})]}),!O&&function(){var e=Object.getOwnPropertyNames(t).map((function(e){return Object(N.jsx)($e,{name:e,data:t[e],keyPath:l,deep:u,isCollapsed:r,onExpand:c},e)}));return Object(N.jsx)(H.a,{children:e})}(),!O&&Object(N.jsx)(S.a,{children:"}"})]})},Me=function(e){var t=e.data,n=e.name,r=e.isCollapsed,c=e.onExpand,a=e.keyPath,o=void 0===a?[]:a,i=e.deep,s=void 0===i?0:i,l=-1===s?[]:[].concat(Object(Ve.a)(o),[n]),u=s+1,j=d.useState(r(l,s,t)),b=Object(h.a)(j,2),O=b[0],f=b[1];return Object(N.jsxs)(Le,{children:[Object(N.jsxs)(H.a,{style:{flexDirection:"row"},children:[Object(N.jsxs)(Y.a,{onPress:function(){O&&c(l,s,t),f(!O)},style:{flexDirection:"row",alignItems:"center"},children:[Object(N.jsx)(ge,{direction:O?"right":"down"}),Object(N.jsxs)(S.a,{type:"info",children:[n," :"]})]}),O?function(){var e=t.length,n=0===e||e>1?"items":"item";return Object(N.jsxs)(S.a,{type:"secondary",children:[" [...]"," ",e," ",n]})}():Object(N.jsx)(S.a,{children:" ["})]}),!O&&function(){Object.getOwnPropertyNames(t);var e=t.map((function(e,t){return Object(N.jsx)($e,{name:"".concat(t),data:e,keyPath:l,deep:u,isCollapsed:r,onExpand:c},t)}));return Object(N.jsx)(H.a,{children:e})}(),!O&&Object(N.jsx)(S.a,{children:"]"})]})},He=n(887),$e=function(e){var t=e.data,n=e.name,r=e.isCollapsed,c=void 0===r?function(e){return e.length>0}:r,a=e.onExpand,o=void 0===a?function(){}:a,i=e.keyPath,s=void 0===i?[]:i,l=e.deep,u=void 0===l?0:l;switch(Object(He.a)(t)){case"String":return Object(N.jsx)(Te,{name:n,value:'"'.concat(t,'"'),originalValue:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Number":return Object(N.jsx)(Te,{name:n,value:t,originalValue:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Boolean":return Object(N.jsx)(Te,{name:n,value:!!t,originalValue:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Date":return Object(N.jsx)(Te,{name:n,value:t.toISOString(),originalValue:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Null":return Object(N.jsx)(Te,{name:n,value:"null",originalValue:"null",keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Undefined":return Object(N.jsx)(Te,{name:n,value:"undefined",originalValue:"undefined",keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Object":return Object(N.jsx)(Ge,{name:n,data:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});case"Array":return Object(N.jsx)(Me,{name:n,data:t,keyPath:s,deep:u,isCollapsed:c,onExpand:o});default:return null}},Fe=n(85),qe=function(e){var t=e.data,n=e.rootName,r=void 0===n?"root":n,c=e.isCollapsed,a=e.onExpand,o=(e.fallback,d.useState(!1)),i=Object(h.a)(o,2),s=i[0],l=i[1];return Object(N.jsxs)(Ae,{children:[s?Object(N.jsx)(Ie,{data:t}):Object(N.jsx)($e,{data:t,name:r,deep:-1,isCollapsed:c,onExpand:a}),Object(N.jsx)(Ee,{children:Object(N.jsx)(Fe.a,{title:"raw",type:"secondary",background:"outline",size:"small",onPress:function(){return l(!s)},accessoryLeft:s?Object(N.jsx)(ke.a,{size:"small",name:"visibility-off"}):Object(N.jsx)(ke.a,{size:"small",name:"visibility"})})})]})},Qe=n(129),Ue=n(345),ze=n(450),Ke=function(e){var t,n=e.label,r=e.choices,c=e.selected,a=void 0===c?null:c,o=e.onChange,i=e.placeholder,s=e.helpText,l=e.error,u=void 0!==l&&l,j=e.disabled,b=void 0!==j&&j,O=d.useState(!1),f=Object(h.a)(O,2),m=f[0],x=f[1],p=d.useCallback((function(){return x(!0)}),[]),y=d.useCallback((function(){return x(!1)}),[]),v=Object(Ue.b)(a,o),g=Object(h.a)(v,2),w=g[0],k=g[1],S=d.useMemo((function(){return r.map((function(e){return"string"===typeof e?{label:e,value:e}:e}))}),[r]),_=d.useMemo((function(){return S.find((function(e){return e.value===w}))}),[S,w]),C=d.useMemo((function(){return S.map((function(e){return Object(N.jsx)(U.a.Item,{label:e.label,disabled:e.disabled,onSelect:function(){return t=e.value,k(t),void x(!1);var t}},e.value)}))}),[S,k]);return Object(N.jsx)(ze.a,{label:n,disabled:b,helpText:s,error:u,onLabelClick:p,children:Object(N.jsx)(U.a,{open:m,activator:Object(N.jsx)(ze.b,{value:null!==(t=null===_||void 0===_?void 0:_.label)&&void 0!==t?t:"",placeholder:i,disabled:b,focused:m,onPress:p,rightAccessory:Object(N.jsx)(ge,{direction:m?"up":"down"}),style:{minWidth:"100px"}}),onRequestClose:y,popoverStyle:{maxHeight:300},placement:"bottom",hideBackdrop:!0,matchWidth:!0,children:Object(N.jsx)(Qe.a,{children:C})})})},We=n(863),Xe=function(e){var t=e.product,n=e.onClose,r=d.useState(0),c=Object(h.a)(r,2),a=c[0],o=c[1],i=0===a?Object(N.jsxs)(Se.a.Section,{children:[Object(N.jsx)(T.a,{label:"Name",value:t.name}),Object(N.jsx)(Ke,{label:"Status",choices:["draft","pending","private","publish"],selected:t.status}),Object(N.jsx)(T.a,{label:"Price",value:t.price}),Object(N.jsx)(T.a,{label:"Regular Price",value:t.regularPrice}),Object(N.jsx)(T.a,{label:"Sale Price",value:t.salePrice}),Object(N.jsx)(We.a,{label:"On Sale",checked:t.onSale})]}):Object(N.jsx)(Se.a.Section,{children:Object(N.jsx)(qe,{data:t.toJSON()})});return Object(N.jsx)(Se.a,{title:t.name,open:!0,onClose:n,primaryAction:{label:"Save"},children:Object(N.jsx)(Re,{tabs:["Product","JSON"],selected:a,onSelect:o,children:i})})},Ye=function(e){var t=e.product,n=e.onClose;return Object(N.jsx)(Se.a,{title:"Confirm",open:!0,onClose:n,primaryAction:{label:"Delete",action:function(){console.log("delete locally and on server")},type:"critical"},secondaryActions:[{label:"Delete locally",action:t.remove},{label:"Cancel",action:n}],children:Object(N.jsx)(Se.a.Section,{children:Object(N.jsxs)(S.a,{children:["You are about to delete ",t.name]})})})},Je=function(e){var t=e.item,n=d.useState(!1),r=Object(h.a)(n,2),c=r[0],a=r[1],o=d.useState(!1),i=Object(h.a)(o,2),s=i[0],l=i[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(we,{items:[{label:"Show",action:function(){return a(!0)}},{label:"Sync",action:function(){t.syncRestApi({push:{}}).run(!1)}},{label:"Delete",action:function(){return l(!0)},type:"critical"}],activator:Object(N.jsx)(ke.a,{name:"more"})}),s&&Object(N.jsx)(Ye,{product:t,onClose:function(){return l(!1)}}),c&&Object(N.jsx)(Xe,{product:t,onClose:function(){return a(!1)}})]})},Ze=function(e){var t=e.item,n=e.column;return t[n.key]?Object(N.jsx)(q.Date,{value:t[n.key]}):null},et={image:A,name:V,categories:G.a,tags:M.a,regularPrice:Q,salePrice:Q,actions:Je,dateCreated:Ze},tt=W.c.View(je||(je=Object(X.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tflex: 1;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),nt=function(){var e=Object(_.b)().storeDB,t=Object(m.a)(Object(C.a)("products")),n=Object(x.a)((function(){return t.get$("columns")}),t.get("columns")),r=Object(h.a)(n,1)[0],c=Object(x.a)(null===e||void 0===e?void 0:e.collections.products.totalRecords$),a=d.useState(!1),o=Object(h.a)(a,2),i=(o[0],o[1],d.useState(0)),s=Object(h.a)(i,2),l=s[0],u=(s[1],Object(w.a)("products",{search:"",sortBy:"name",sortDirection:"asc",filters:{category:null,tag:null}})),j=u.data$,b=u.query,O=u.setQuery,p=d.useCallback((function(e){O((function(t){return Object(f.a)(Object(f.a)({},t),{},{search:e})}))}),[O]);if(!e)throw Error("something went wrong");var v=d.useMemo((function(){var e=[];return y()(b,"filters.category")&&e.push({label:y()(b,"filters.category.name"),onRemove:function(){O((function(e){return g()(Object(f.a)({},e),"filters.category",null)}))}}),y()(b,"filters.tag")&&e.push({label:y()(b,"filters.tag.name"),onRemove:function(){O((function(e){return g()(Object(f.a)({},e),"filters.tag",null)}))}}),e}),[b,O]);return Object(N.jsx)(tt,{children:Object(N.jsxs)(k.a.Group,{children:[Object(N.jsx)(k.a,{children:Object(N.jsx)(D.a,{label:"Search Products",placeholder:"Search Products",value:b.search,onSearch:p,actions:[Object(N.jsx)(B.a,{ui:t})],filters:v})}),Object(N.jsx)(k.a,{grow:!0,children:Object(N.jsx)(P.a,{collection:e.collections.products,columns:r,data$:j,setQuery:O,sortBy:b.sortBy,sortDirection:b.sortDirection,cells:et})}),Object(N.jsx)(k.a,{style:{alignItems:"flex-end"},children:Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)(S.a,{children:["Showing ",l," of ",c]})})})]})})},rt=n(185),ct=function(e){var t=e.order,n=e.onClose,r=d.useState(0),c=Object(h.a)(r,2),a=c[0],o=c[1],i=0===a?Object(N.jsx)(Se.a.Section,{children:Object(N.jsx)(T.a,{label:"Order Number",value:t.number})}):Object(N.jsx)(Se.a.Section,{children:Object(N.jsx)(qe,{data:t.toJSON()})});return Object(N.jsx)(Se.a,{open:!0,title:"Order",onClose:n,primaryAction:{label:"Save "},children:Object(N.jsx)(Re,{tabs:["Order","JSON"],selected:a,onSelect:o,children:i})})},at=function(e){var t=e.item,n=d.useState(!1),r=Object(h.a)(n,2),c=r[0],a=r[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(we,{items:[{label:"Show",action:function(){return a(!0)}},{label:"Sync",action:function(){console.log("sync")}},{label:"Delete",action:function(){t.remove()}}],activator:Object(N.jsx)(ke.a,{name:"more"})}),c&&Object(N.jsx)(ct,{order:t,onClose:function(){return a(!1)}})]})},ot=function(e){var t=e.item[e.column.key];return t?Object(N.jsx)(q.Address,{address:t,showName:!1}):Object(N.jsx)(S.a.Skeleton,{})},it=function(e){var t=e.item;return t.customer_id?Object(N.jsx)(S.a,{children:t.customer_id}):Object(N.jsx)(S.a.Skeleton,{})},st=n(350),lt={actions:at,billing:ot,shipping:ot,customer:it,customerNote:function(e){var t=e.item;return t.note?Object(N.jsx)(st.a,{content:t.note,children:Object(N.jsx)(ke.a,{name:"note"})}):null},status:function(e){var t=e.item;return t.status?Object(N.jsx)(st.a,{content:t.status,children:Object(N.jsx)(ke.a,{name:t.status})}):Object(N.jsx)(ke.a.Skeleton,{})}},ut=W.c.View(be||(be=Object(X.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tflex: 1;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),dt=function(){var e=Object(_.b)().storeDB,t=Object(m.a)(Object(C.a)("orders")),n=Object(x.a)((function(){return t.get$("columns")}),t.get("columns")),r=Object(h.a)(n,1)[0],c=Object(w.a)("orders",{search:"",sortBy:"dateCreatedGmt",sortDirection:"desc"}),a=c.data$,o=c.query,i=c.setQuery,s=d.useCallback((function(e){i((function(t){return Object(f.a)(Object(f.a)({},t),{},{search:e})}))}),[i]);if(!e)throw Error("something went wrong");return Object(N.jsx)(ut,{children:Object(N.jsx)(d.Suspense,{fallback:Object(N.jsx)(rt.a,{children:"loading orders..."}),children:Object(N.jsxs)(k.a.Group,{children:[Object(N.jsx)(k.a,{children:Object(N.jsx)(D.a,{label:"Search Orders",placeholder:"Search Orders",value:o.search,onSearch:s,actions:[Object(N.jsx)(B.a,{ui:t})]})}),Object(N.jsx)(k.a,{grow:!0,children:Object(N.jsx)(P.a,{collection:e.collections.orders,columns:r,data$:a,setQuery:i,sortBy:o.sortBy,sortDirection:o.sortDirection,cells:lt})}),Object(N.jsx)(k.a,{})]})})})},jt=n(243),bt=function(e){var t=e.onClose,n=e.customer,r=Object(_.b)().storeDB,c=d.useState(null===n||void 0===n?void 0:n.firstName),a=Object(h.a)(c,2),o=a[0],i=a[1],s=d.useState(null===n||void 0===n?void 0:n.email),l=Object(h.a)(s,2),u=l[0],j=l[1],b=d.useState(0),O=Object(h.a)(b,2),f=O[0],m=O[1],x=n?"Edit Customer":"Add Customer",p=function(){var e=Object(L.a)(I.a.mark((function e(){var t,c,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n){e.next=8;break}return c=null===r||void 0===r?void 0:r.collections.customers,e.next=5,null===c||void 0===c?void 0:c.insert({firstName:o,email:u});case 5:e.sent,e.next=9;break;case 8:t.atomicPatch({firstName:o,email:u});case 9:t&&((a=t.syncRestApi({push:{}})).error$.subscribe((function(e){401===e.code&&console.log("need to login")})),a.run(!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=0===f?Object(N.jsxs)(Se.a.Section,{children:[Object(N.jsx)(T.a,{label:"First Name",value:o,onChange:i}),Object(N.jsx)(T.a,{label:"Email",value:u,onChange:j})]}):Object(N.jsx)(Se.a.Section,{children:n?Object(N.jsx)(qe,{data:n.toJSON()}):null});return Object(N.jsx)(Se.a,{title:x,open:!0,onClose:t,primaryAction:{label:"Save",action:p},children:Object(N.jsx)(Re,{tabs:["Form","JSON"],selected:f,onSelect:m,children:y})})},Ot=function(e){var t=e.item,n=e.column;return Object(N.jsx)(q.Address,{address:t[n.key],showName:!1})},ft=function(e){var t=e.item[e.column.key];return void 0!==t?Object(N.jsx)(S.a,{children:t}):Object(N.jsx)(S.a.Skeleton,{})},ht={avatarUrl:function(e){var t=e.item;return Object(N.jsx)(R.a,{src:t.avatarUrl,style:{width:100,height:100}})},firstName:ft,lastName:ft,email:function(e){var t=e.item;return void 0!==t.email?Object(N.jsx)(S.a,{children:t.email}):Object(N.jsx)(S.a.Skeleton,{})},billing:Ot,shipping:Ot,actions:function(e){var t=e.item,n=d.useState(!1),r=Object(h.a)(n,2),c=r[0],a=r[1];return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(we,{activator:Object(N.jsx)(ke.a,{name:"more"}),items:[{label:"Edit",action:function(){return a(!0)}},{label:"Sync",action:function(){t.syncRestApi({push:{}}).run(!1)}},{label:"Delete",action:function(){t.remove()}}]}),c&&Object(N.jsx)(bt,{onClose:function(){return a(!1)},customer:t})]})}},mt=W.c.View(Oe||(Oe=Object(X.a)(["\n\theight: 100%;\n\tflex-direction: row;\n\tflex: 1;\n\tpadding: ",";\n"])),(function(e){var t=e.theme;return"".concat(t.PAGE_MAIN_PADDING_Y," ").concat(t.PAGE_MAIN_PADDING_X)})),xt=function(e){var t=e.navigation,n=Object(_.b)(),r=(n.user,n.storeDB),c=Object(m.a)(Object(C.a)("customers")),a=Object(x.a)((function(){return c.get$("columns")}),c.get("columns")),o=Object(h.a)(a,1)[0],i=Object(w.a)("customers",{search:"",sortBy:"lastName",sortDirection:"asc"}),s=i.data$,l=i.query,u=i.setQuery,j=d.useCallback((function(e){u((function(t){return Object(f.a)(Object(f.a)({},t),{},{search:e})}))}),[u]);if(!r)throw Error("something went wrong");return Object(jt.a)("Customer Page",{data$:s,query:l,ui:c,columns:o,storeDB:r,navigation:t}),Object(N.jsx)(mt,{children:Object(N.jsx)(d.Suspense,{fallback:Object(N.jsx)(rt.a,{children:"loading customers..."}),children:Object(N.jsxs)(k.a.Group,{children:[Object(N.jsx)(k.a,{children:Object(N.jsx)(D.a,{label:"Search Customers",placeholder:"Search Customers",value:l.search,onSearch:j,actions:[{name:"add",action:function(){console.log("show modal")}},Object(N.jsx)(B.a,{ui:c})]})}),Object(N.jsx)(k.a,{grow:!0,children:Object(N.jsx)(P.a,{collection:r.collections.customers,columns:o,data$:s,setQuery:u,sortBy:l.sortBy,sortDirection:l.sortDirection,cells:ht})}),Object(N.jsx)(k.a,{})]})})})},pt=n(861),yt=n(44),vt=n.n(yt),gt=n(47),wt=n.n(gt),kt=function(){var e=Object(_.b)().userDB,t=d.useState([]),n=Object(h.a)(t,2),r=n[0],c=n[1];vt()(e.collections,(function(e,t){e.$.subscribe((function(e){return console.log(t,e)}))})),d.useEffect((function(){!function(){var t=Object(L.a)(I.a.mark((function t(){var n,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=wt()(e.collections,function(){var e=Object(L.a)(I.a.mark((function e(t,n){var r;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.find().exec();case 2:return r=e.sent,e.abrupt("return",{name:n,count:r.length});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),t.next=3,Promise.all(n);case 3:r=t.sent,c(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]);var a=function(){var e=Object(L.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var t=Object(L.a)(I.a.mark((function t(n){var r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.collections[n].find().exec();case 2:r=t.sent,console.log(r);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=[{key:"name",label:"Name"},{key:"count",label:"Count"},{key:"actions",label:""}];return Object(N.jsxs)(pt.a,{columns:i,data:r,children:[Object(N.jsx)(pt.a.Header,{children:Object(N.jsx)(pt.a.Header.Row,{children:i.map((function(e){var t=e.key,n=e.label;return Object(N.jsx)(pt.a.Header.Row.Cell,{dataKey:t,sort:function(){console.log("sort")},sortBy:"name",sortDirection:"asc",children:n},t)}))})}),Object(N.jsx)(pt.a.Body,{children:function(e){var t=e.item;return Object(N.jsx)(pt.a.Body.Row,{rowData:t,columns:i,children:function(e){var n=e.column,r=e.getCellProps;return"actions"===n.key?Object(N.jsxs)(pt.a.Body.Row.Cell,{children:[Object(N.jsx)(Fe.a,{title:"Delete All",onPress:function(){a(t.name)}}),Object(N.jsx)(Fe.a,{title:"Info",onPress:function(){o(t.name)}})]}):Object(N.jsx)(pt.a.Body.Row.Cell,Object(f.a)({},r()))}})}})]})},St=function(e){var t=e.item,n=e.columns,r=Object(x.a)(t.totalRecords$);return Object(N.jsx)(pt.a.Body.Row,{rowData:t,columns:n,children:function(e){switch(e.column.key){case"name":return Object(N.jsx)(pt.a.Body.Row.Cell,{cellData:t.name});case"count":return Object(N.jsx)(pt.a.Body.Row.Cell,{cellData:r});case"actions":return Object(N.jsx)(pt.a.Body.Row.Cell,{children:Object(N.jsx)(Fe.a,{title:"Delete All",onPress:function(){t.remove()}})});default:return null}}})},_t=function(){var e=Object(_.b)().storeDB,t=[{key:"name",label:"Name"},{key:"count",label:"Count"},{key:"actions",label:""}];return Object(N.jsxs)(pt.a,{columns:t,data:Object.values(e.collections),children:[Object(N.jsx)(pt.a.Header,{children:Object(N.jsx)(pt.a.Header.Row,{children:t.map((function(e){var t=e.key,n=e.label;return Object(N.jsx)(pt.a.Header.Row.Cell,{dataKey:t,sort:function(){console.log("sort")},sortBy:"name",sortDirection:"asc",children:n},t)}))})}),Object(N.jsx)(pt.a.Body,{children:function(e){var n=e.item;return Object(N.jsx)(St,{item:n,columns:t})}})]})},Ct=function(){return Object(N.jsxs)(H.a,{style:{flexDirection:"row"},children:[Object(N.jsxs)(k.a.Group,{style:{width:"50%"},children:[Object(N.jsx)(k.a,{children:"Authentication Database"}),Object(N.jsx)(k.a,{children:Object(N.jsx)(kt,{})})]}),Object(N.jsxs)(k.a.Group,{style:{width:"50%"},children:[Object(N.jsx)(k.a,{children:"Store Database"}),Object(N.jsx)(k.a,{children:Object(N.jsx)(_t,{})})]})]})},Dt=n(454),Pt=n(911),Bt=n(851),Rt=function(e){var t=e.onClose,n=Object(_.b)().storeDB,r=d.useState("GB"),c=Object(h.a)(r,2),a=c[0],o=(c[1],Object(Pt.a)((function(e){return e.pipe(Object(Bt.a)((function(e){return(null===n||void 0===n?void 0:n.collections.taxes.find().where("country").eq(a)).$})))}),[a])),i=Object(x.a)(o,[]);return console.log(i),Object(N.jsx)(Se.a,{sectioned:!0,title:"Settings",open:!0,onClose:t,primaryAction:{label:"Save",action:t},children:Object(N.jsxs)(H.a,{style:{zIndex:999999},children:[Object(N.jsx)(S.a,{children:"Store location: "}),Object(N.jsx)(Ke,{label:"Country",placeholder:"GB",choices:[{label:"GB",value:"GB"},{label:"US",value:"US"}]}),Object(N.jsx)(pt.a,{columns:[{key:"country",label:"Country"},{key:"name",label:"Name"},{key:"rate",label:"Rate"}],data:i})]})})},Nt=W.c.View(fe||(fe=Object(X.a)(["\n\tflex-direction: row;\n\talign-items: center;\n"]))),At=function(){var e=Object(_.b)(),t=e.user,n=e.unsetLastUser,r=d.useState(!1),c=Object(h.a)(r,2),a=c[0],o=c[1],i=Object(j.p)();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(we,{activator:Object(N.jsxs)(Nt,{children:[Object(N.jsx)(S.a,{type:"inverse",children:null===t||void 0===t?void 0:t.displayName}),Object(N.jsx)(Dt.a,{src:"https://secure.gravatar.com/avatar/a2a53c07cdd4a8aa81c043baafd0915f",size:"small"})]}),items:[{label:"Logout",action:function(){var e=Object(L.a)(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.navigate("Auth"),e.next=3,n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),type:"warning"},{label:"Settings",action:function(){return o(!0)}},{label:"Modal",action:function(){return i.dispatch(j.b.navigate({name:"Modal",params:{foo:"bar"}}))}}]}),a&&Object(N.jsx)(Rt,{onClose:function(){return o(!1)}})]})},Et=function(){var e=Object(_.b)().online;return Object(N.jsx)(ke.a,{name:"circle",size:"x-small",color:e?"green":"red"})},It=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(ke.a,{name:"notifications",onPress:function(){}})})},Lt=W.c.View(he||(he=Object(X.a)(["\n\tflex-direction: row;\n\talign-items: center;\n"]))),Tt=function(){return Object(N.jsxs)(Lt,{children:[Object(N.jsx)(Et,{}),Object(N.jsx)(It,{}),Object(N.jsx)(At,{})]})},Vt=Object(b.a)();t.default=function(e){var t=e.navigation,n=(e.route,d.useCallback((function(){t.dispatch(j.c.openDrawer())}),[])),r=d.useMemo((function(){return{headerStyle:{backgroundColor:"#f4511e",height:"40px"},headerTintColor:"#fff",headerTitleStyle:{fontWeight:"bold",textAlign:"center",margin:0},headerBackgroundContainerStyle:{},headerLeftContainerStyle:{padding:"5px",flexGrow:1,flexShrink:1,flexBasis:"20%"},headerRightContainerStyle:{padding:"5px",flexGrow:1,flexShrink:1,flexBasis:"20%"},headerTitleContainerStyle:{padding:"5px",flexGrow:1,flexShrink:1,flexBasis:"100%"},headerLeft:function(){return Object(N.jsx)(Fe.a,{onPress:n,title:"Menu"})},headerRight:Tt}}),[n]);return Object(N.jsxs)(Vt.Navigator,{screenOptions:r,children:[Object(N.jsx)(Vt.Screen,{name:"POS",component:O.b}),Object(N.jsx)(Vt.Screen,{name:"Products",component:nt}),Object(N.jsx)(Vt.Screen,{name:"Orders",component:dt}),Object(N.jsx)(Vt.Screen,{name:"Customers",component:xt}),Object(N.jsx)(Vt.Screen,{name:"Support",component:Ct})]})}}}]);
//# sourceMappingURL=4.a8322be2.chunk.js.map